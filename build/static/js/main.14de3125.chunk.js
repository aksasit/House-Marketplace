(this["webpackJsonphouse-marketplace"]=this["webpackJsonphouse-marketplace"]||[]).push([[0],{69:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n,c,r,s=a(2),i=a.n(s),l=a(39),o=a.n(l),j=(a(69),a(22)),u=a(13),b=a(21),d=(a(70),["title","titleId"]);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},m.apply(this,arguments)}function O(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function f(e,t){var a=e.title,i=e.titleId,l=O(e,d);return s.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":i},l),a?s.createElement("title",{id:i},a):null,n||(n=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),c||(c=s.createElement("path",{d:"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z"})),r||(r=s.createElement("circle",{cx:6.5,cy:6.5,r:1.5})))}var p,h,x=s.forwardRef(f),g=(a.p,["title","titleId"]);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}function N(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function y(e,t){var a=e.title,n=e.titleId,c=N(e,g);return s.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,p||(p=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),h||(h=s.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"})))}var w,k,I=s.forwardRef(y),L=(a.p,["title","titleId"]);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S.apply(this,arguments)}function C(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function B(e,t){var a=e.title,n=e.titleId,c=C(e,L);return s.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,w||(w=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),k||(k=s.createElement("path",{d:"M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"})))}var P=s.forwardRef(B),E=(a.p,a(3));var A=function(){var e=Object(u.p)(),t=Object(u.n)(),a=function(e){if(e===t.pathname)return!0};return Object(E.jsx)("footer",{className:"navbar",children:Object(E.jsx)("nav",{className:"navbarNav",children:Object(E.jsxs)("ul",{className:"navbarListItems",children:[Object(E.jsxs)("li",{className:"navbarListItem",onClick:function(){return e("/")},children:[Object(E.jsx)(I,{fill:a("/")?"#2c2c2c":"#8f8f8f",width:"36px",height:"36px"}),Object(E.jsx)("p",{className:a("/")?"navbarListItemNameActive":"navbarListItemName",children:"Explore"})]}),Object(E.jsxs)("li",{className:"navbarListItem",onClick:function(){return e("/offers")},children:[Object(E.jsx)(x,{fill:a("/offers")?"#2c2c2c":"#8f8f8f",width:"36px",height:"36px"}),Object(E.jsx)("p",{className:a("/offer")?"navbarListItemNameActive":"navbarListItemName",children:"Offers"})]}),Object(E.jsxs)("li",{className:"navbarListItem",onClick:function(){return e("/profile")},children:[Object(E.jsx)(P,{fill:a("/profile")?"#2c2c2c":"#8f8f8f",width:"36px",height:"36px"}),Object(E.jsx)("p",{className:a("/profile")?"navbarListItemNameActive":"navbarListItemName",children:"Profile"})]})]})})})},D=a(9),M=a(23);var U=function(){return Object(E.jsx)("div",{className:"loadingSpinnerContainer",children:Object(E.jsx)("div",{className:"loadingSpinner"})})},z=function(){var e=function(){var e=Object(s.useState)(!1),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),r=Object(D.a)(c,2),i=r[0],l=r[1],o=Object(s.useRef)(!0);return Object(s.useEffect)((function(){if(o){var e=Object(M.c)();Object(M.d)(e,(function(e){e&&n(!0),l(!1)}))}return function(){o.current=!1}}),[o]),{loggedIn:a,checkingStatus:i}}(),t=e.loggedIn;return e.checkingStatus?Object(E.jsx)(U,{}):t?Object(E.jsx)(u.b,{}):Object(E.jsx)(u.a,{to:"/sign-in"})},R=a(0),H=a(1),F=a(15),T=a(57),q=a(61),Y=Object(T.a)({apiKey:"AIzaSyAzcIYS7HviOiTQh4eKGzWgE3cCAdYh6o4",authDomain:"house-marketplace-42347.firebaseapp.com",projectId:"house-marketplace-42347",storageBucket:"house-marketplace-42347.appspot.com",messagingSenderId:"879950055835",appId:"1:879950055835:web:3c7528f2c35e1d6d57393e",measurementId:"G-S131YFMF43"});Object(q.a)(Y);var V=Object(F.g)(),$=a(84),W=a(76),G=a(77),J=a(78),K=a(79),_=a(85),Q=a(80);a(56);$.a.use([W.a,G.a,J.a,K.a]);var Z=function(){var e=Object(s.useState)(!0),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(D.a)(c,2),i=r[0],l=r[1],o=Object(u.p)();return Object(s.useEffect)((function(){var e=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a,c,r;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(F.b)(V,"listings"),a=Object(F.j)(t,Object(F.i)("timestamp","desc"),Object(F.h)(5)),e.next=4,Object(F.f)(a);case 4:c=e.sent,r=[],c.forEach((function(e){return r.push({id:e.id,data:e.data()})})),l(r),n(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),a?Object(E.jsx)(U,{}):0===i.length?Object(E.jsx)(E.Fragment,{}):i&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("p",{className:"exploreHeading",children:"Recommended"}),Object(E.jsx)(_.a,{slidesPerView:1,pagination:{clickable:!0},children:i.map((function(e){var t,a=e.data,n=e.id;return Object(E.jsx)(Q.a,{onClick:function(){return o("/category/".concat(a.type,"/").concat(n))},children:Object(E.jsxs)("div",{style:{background:"url(".concat(a.imageUrls[0],") center no-repeat"),backgroundSize:"cover"},className:"swiperSlideDiv",children:[Object(E.jsx)("p",{className:"swiperSlideText",children:a.name}),Object(E.jsxs)("p",{className:"swiperSlidePrice",children:["$",null!==(t=a.discountedPrice)&&void 0!==t?t:a.regularPrice," ","rent"===a.type&&"/ month"]})]})},n)}))})]})},X=a.p+"static/media/rentCategoryImage.cd9f0150.jpg",ee=a.p+"static/media/sellCategoryImage.c4d28ee7.jpg";var te,ae,ne=function(){return Object(E.jsxs)("div",{className:"explore",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Explore"})}),Object(E.jsxs)("main",{children:[Object(E.jsx)(Z,{}),Object(E.jsx)("p",{className:"exploreCategoryHeading",children:"Categories"}),Object(E.jsxs)("div",{className:"exploreCategories",children:[Object(E.jsxs)(j.b,{to:"/category/rent",children:[Object(E.jsx)("img",{src:X,alt:"rent",className:"exploreCategoryImg"}),Object(E.jsx)("p",{className:"exploreCategoryName",children:"Places for rent"})]}),Object(E.jsxs)(j.b,{to:"/category/sale",children:[Object(E.jsx)("img",{src:ee,alt:"sell",className:"exploreCategoryImg"}),Object(E.jsx)("p",{className:"exploreCategoryName",children:"Places for sale"})]})]})]})]})},ce=a(16),re=["title","titleId"];function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},se.apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function le(e,t){var a=e.title,n=e.titleId,c=ie(e,re);return s.createElement("svg",se({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,te||(te=s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),ae||(ae=s.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})))}var oe,je,ue=s.forwardRef(le),be=(a.p,["title","titleId"]);function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},de.apply(this,arguments)}function me(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Oe(e,t){var a=e.title,n=e.titleId,c=me(e,be);return s.createElement("svg",de({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,oe||(oe=s.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),je||(je=s.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})))}var fe=s.forwardRef(Oe),pe=(a.p,a.p+"static/media/bedIcon.eefa75b1.svg"),he=a.p+"static/media/bathtubIcon.b95c8ddb.svg";var xe=function(e){var t=e.listing,a=e.id,n=e.onEdit,c=e.onDelete;return Object(E.jsxs)("li",{className:"categoryListing",children:[Object(E.jsxs)(j.b,{to:"/category/".concat(t.type,"/").concat(a),className:"categoryListingLink",children:[Object(E.jsx)("img",{src:t.imageUrls[0],alt:t.name,className:"categoryListingImg"}),Object(E.jsxs)("div",{className:"categoryListingDetails",children:[Object(E.jsx)("p",{className:"categoryListingLocation",children:t.location}),Object(E.jsx)("p",{className:"categoryListingName",children:t.name}),Object(E.jsxs)("p",{className:"categoryListingPrice",children:["$",t.offer?t.discountedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):t.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"rent"===t.type&&" / Month"]}),Object(E.jsxs)("div",{className:"categoryListingInfoDiv",children:[Object(E.jsx)("img",{src:pe,alt:"bed"}),Object(E.jsx)("p",{className:"categoryListingInfoText",children:t.bedrooms>1?"".concat(t.bedrooms," Bedrooms"):"1 Bedroom"}),Object(E.jsx)("img",{src:he,alt:"bath"}),Object(E.jsx)("p",{className:"categoryListingInfoText",children:t.bathrooms>1?"".concat(t.bathrooms," Bathrooms"):"1 Bathroom"})]})]})]}),c&&Object(E.jsx)(ue,{className:"removeIcon",fill:"rgb(231, 76,60)",onClick:function(){return c(t.id,t.name)}}),n&&Object(E.jsx)(fe,{className:"editIcon",onClick:function(){return n(a)}})]})};var ge=function(){var e=Object(s.useState)(null),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),r=Object(D.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(null),j=Object(D.a)(o,2),u=j[0],d=j[1];Object(s.useEffect)((function(){var e=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a,c,r,s;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(F.b)(V,"listings"),a=Object(F.j)(t,Object(F.o)("offer","==",!0),Object(F.i)("timestamp","desc"),Object(F.h)(10)),e.next=5,Object(F.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],d(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n(s),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var m=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a,c,r,s;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(F.b)(V,"listings"),a=Object(F.j)(t,Object(F.o)("offer","==",!0),Object(F.i)("timestamp","desc"),Object(F.m)(u),Object(F.h)(10)),e.next=5,Object(F.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],d(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n((function(e){return[].concat(Object(ce.a)(e),s)})),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"category",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Offers"})}),i?Object(E.jsx)(U,{}):a&&a.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("main",{children:Object(E.jsx)("ul",{className:"categoryListings",children:a.map((function(e){return Object(E.jsx)(xe,{listing:e.data,id:e.id},e.id)}))})}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),u&&Object(E.jsx)("p",{className:"loadMore",onClick:m,children:"Load More"})]}):Object(E.jsx)("p",{children:"There are no current offers"})]})};var ve=function(){var e=Object(s.useState)(null),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!0),r=Object(D.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)(null),j=Object(D.a)(o,2),d=j[0],m=j[1],O=Object(u.r)();Object(s.useEffect)((function(){var e=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a,c,r,s;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(F.b)(V,"listings"),a=Object(F.j)(t,Object(F.o)("type","==",O.categoryName),Object(F.i)("timestamp","desc"),Object(F.h)(10)),e.next=5,Object(F.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],m(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n(s),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[O.categoryName]);var f=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a,c,r,s;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(F.b)(V,"listings"),a=Object(F.j)(t,Object(F.o)("type","==",O.categoryName),Object(F.i)("timestamp","desc"),Object(F.m)(d),Object(F.h)(10)),e.next=5,Object(F.f)(a);case 5:c=e.sent,r=c.docs[c.docs.length-1],m(r),s=[],c.forEach((function(e){return s.push({id:e.id,data:e.data()})})),n((function(e){return[].concat(Object(ce.a)(e),s)})),l(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error("Could not fetch listings");case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"category",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"rent"===O.categoryName?"Places for rent":"Places for sale"})}),i?Object(E.jsx)(U,{}):a&&a.length>0?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("main",{children:Object(E.jsx)("ul",{className:"categoryListings",children:a.map((function(e){return Object(E.jsx)(xe,{listing:e.data,id:e.id},e.id)}))})}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),d&&Object(E.jsx)("p",{className:"loadMore",onClick:f,children:"Load More"})]}):Object(E.jsxs)("p",{children:["No listings for ",O.categoryName]})]})},Ne=a(6),ye=a(20),we=a.p+"static/media/keyboardArrowRightIcon.8cee54be.svg",ke=a.p+"static/media/homeIcon.09f28a71.svg";var Ie=function(){var e=Object(M.c)(),t=Object(s.useState)(!0),a=Object(D.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(null),i=Object(D.a)(r,2),l=i[0],o=i[1],d=Object(s.useState)(!1),m=Object(D.a)(d,2),O=m[0],f=m[1],p=Object(s.useState)({name:e.currentUser.displayName,email:e.currentUser.email}),h=Object(D.a)(p,2),x=h[0],g=h[1],v=x.name,N=x.email,y=Object(u.p)();Object(s.useEffect)((function(){var t=function(){var t=Object(H.a)(Object(R.a)().mark((function t(){var a,n,r,s;return Object(R.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(F.b)(V,"listings"),n=Object(F.j)(a,Object(F.o)("userRef","==",e.currentUser.uid),Object(F.i)("timestamp","desc")),t.next=4,Object(F.f)(n);case 4:r=t.sent,s=[],r.forEach((function(e){return s.push({id:e.id,data:e.data()})})),o(s),c(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.currentUser.uid]);var w=function(){var t=Object(H.a)(Object(R.a)().mark((function t(){var a;return Object(R.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.currentUser.displayName===v){t.next=7;break}return t.next=4,Object(M.h)(e.currentUser,{displayName:v});case 4:return a=Object(F.d)(V,"users",e.currentUser.uid),t.next=7,Object(F.n)(a,{name:v});case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),b.b.error("Could not update profile details");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),k=function(e){g((function(t){return Object(ye.a)(Object(ye.a)({},t),{},Object(Ne.a)({},e.target.id,e.target.value))}))},I=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){var a;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete?")){e.next=6;break}return e.next=3,Object(F.c)(Object(F.d)(V,"listings",t));case 3:a=l.filter((function(e){return e.id!==t})),o(a),b.b.success("Successfully deleted listing");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"profile",children:[Object(E.jsxs)("header",{className:"profileHeader",children:[Object(E.jsx)("p",{className:"pageHeader",children:"My Profile"}),Object(E.jsx)("button",{type:"button",className:"logOut",onClick:function(){e.signOut(),y("/")},children:"Logout"})]}),Object(E.jsxs)("main",{children:[Object(E.jsxs)("div",{className:"profileDetailsHeader",children:[Object(E.jsx)("p",{className:"profileDetailsText",children:"Personal Details"}),Object(E.jsx)("p",{className:"changePersonalDetails",onClick:function(){O&&w(),f((function(e){return!e}))},children:O?"Done":"Change"})]}),Object(E.jsx)("div",{className:"profileCard",children:Object(E.jsxs)("form",{children:[Object(E.jsx)("input",{type:"text",id:"name",className:O?"profileNameActive":"profileName",disabled:!O,value:v,onChange:k}),Object(E.jsx)("input",{type:"email",id:"email",className:O?"profileEmailActive":"profileEmail",disabled:!O,value:N,onChange:k})]})}),Object(E.jsxs)(j.b,{to:"/create-listing",className:"createListing",children:[Object(E.jsx)("img",{src:ke,alt:"home"}),Object(E.jsx)("p",{children:"Sell or rent your home"}),Object(E.jsx)("img",{src:we,alt:"arrow right"})]}),!n&&(null===l||void 0===l?void 0:l.length)>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("p",{className:"listingText",children:"Your Listings"}),Object(E.jsx)("ul",{className:"listingsList",children:l.map((function(e){return Object(E.jsx)(xe,{listing:e.data,id:e.id,onDelete:function(){return I(e.id)},onEdit:function(){return t=e.id,y("/edit-listing/".concat(t));var t}},e.id)}))})]})]})]})},Le=a.p+"static/media/googleIcon.a2a9c863.svg";var Se,Ce,Be=function(){var e=Object(u.p)(),t=Object(u.n)(),a=function(){var t=Object(H.a)(Object(R.a)().mark((function t(){var a,n,c,r,s;return Object(R.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(M.c)(),n=new M.a,t.next=5,Object(M.g)(a,n);case 5:return c=t.sent,r=c.user,s=Object(F.d)(V,"users",r.uid),t.next=10,Object(F.e)(s);case 10:if(t.sent.exists()){t.next=14;break}return t.next=14,Object(F.l)(Object(F.d)(V,"users",r.uid),{name:r.displayName,email:r.email,timestamp:Object(F.k)()});case 14:e("/"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),b.b.error("Could not authorize with Google");case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"socialLogin",children:[Object(E.jsxs)("p",{children:["Sign ","/sign-up"===t.pathname?"up":"in"," with "]}),Object(E.jsx)("button",{className:"socialIconDiv",onClick:a,children:Object(E.jsx)("img",{className:"socialIconImg",src:Le,alt:"google"})})]})},Pe=["title","titleId"];function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ee.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function De(e,t){var a=e.title,n=e.titleId,c=Ae(e,Pe);return s.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",ref:t,"aria-labelledby":n},c),a?s.createElement("title",{id:n},a):null,Se||(Se=s.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),Ce||(Ce=s.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})))}var Me=s.forwardRef(De),Ue=(a.p,a.p+"static/media/visibilityIcon.d42e2dff.svg");var ze=function(){var e=Object(s.useState)(!1),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)({email:"",password:""}),r=Object(D.a)(c,2),i=r[0],l=r[1],o=i.email,d=i.password,m=Object(u.p)(),O=function(e){l((function(t){return Object(ye.a)(Object(ye.a)({},t),{},Object(Ne.a)({},e.target.id,e.target.value))}))},f=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){var a;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=Object(M.c)(),e.next=5,Object(M.f)(a,o,d);case 5:e.sent.user&&m("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b.b.error("Bad User Credentials");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Welcome Back!"})}),Object(E.jsxs)("form",{onSubmit:f,children:[Object(E.jsx)("input",{type:"email",className:"emailInput",placeholder:"Email",id:"email",value:o,onChange:O}),Object(E.jsxs)("div",{className:"passwordInputDiv",children:[Object(E.jsx)("input",{type:a?"text":"password",className:"passwordInput",placeholder:"Password",id:"password",value:d,onChange:O}),Object(E.jsx)("img",{src:Ue,alt:"show password",className:"showPassword",onClick:function(){return n((function(e){return!e}))}})]}),Object(E.jsx)(j.b,{to:"/forgot-password",className:"forgotPasswordLink",children:"Forgot Password"}),Object(E.jsxs)("div",{className:"signInBar",children:[Object(E.jsx)("p",{className:"signInText",children:"Sign In"}),Object(E.jsx)("button",{className:"signInButton",children:Object(E.jsx)(Me,{fill:"#ffffff",width:"34px",height:"34px"})})]})]}),Object(E.jsx)(Be,{}),Object(E.jsx)(j.b,{to:"/sign-up",className:"registerLink",children:"Sign Up Instead"})]})})};var Re=function(){var e=Object(s.useState)(!1),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)({name:"",email:"",password:""}),r=Object(D.a)(c,2),i=r[0],l=r[1],o=i.name,d=i.email,m=i.password,O=Object(u.p)(),f=function(e){l((function(t){return Object(ye.a)(Object(ye.a)({},t),{},Object(Ne.a)({},e.target.id,e.target.value))}))},p=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){var a,n,c,r;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,a=Object(M.c)(),e.next=5,Object(M.b)(a,d,m);case 5:return n=e.sent,c=n.user,Object(M.h)(a.currentUser,{displayName:o}),delete(r=Object(ye.a)({},i)).password,r.timestamp=Object(F.k)(),e.next=13,Object(F.l)(Object(F.d)(V,"users",c.uid),r);case 13:O("/"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),b.b.error("Something went wrong with registration");case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Welcome Back!"})}),Object(E.jsxs)("form",{onSubmit:p,children:[Object(E.jsx)("input",{type:"text",className:"nameInput",placeholder:"Name",id:"name",value:o,onChange:f}),Object(E.jsx)("input",{type:"email",className:"emailInput",placeholder:"Email",id:"email",value:d,onChange:f}),Object(E.jsxs)("div",{className:"passwordInputDiv",children:[Object(E.jsx)("input",{type:a?"text":"password",className:"passwordInput",placeholder:"Password",id:"password",value:m,onChange:f}),Object(E.jsx)("img",{src:Ue,alt:"show password",className:"showPassword",onClick:function(){return n((function(e){return!e}))}})]}),Object(E.jsx)(j.b,{to:"/forgot-password",className:"forgotPasswordLink",children:"Forgot Password"}),Object(E.jsxs)("div",{className:"signUpBar",children:[Object(E.jsx)("p",{className:"signUpText",children:"Sign Up"}),Object(E.jsx)("button",{className:"signUpButton",children:Object(E.jsx)(Me,{fill:"#ffffff",width:"34px",height:"34px"})})]})]}),Object(E.jsx)(Be,{}),Object(E.jsx)(j.b,{to:"/sign-in",className:"registerLink",children:"Sign In Instead"})]})})};var He=function(){var e=Object(s.useState)(""),t=Object(D.a)(e,2),a=t[0],n=t[1],c=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){var n;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=Object(M.c)(),e.next=5,Object(M.e)(n,a);case 5:b.b.success("Email was sent"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b.b.error("Could not send reset email");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Forgot Password"})}),Object(E.jsx)("main",{children:Object(E.jsxs)("form",{onSubmit:c,children:[Object(E.jsx)("input",{type:"email",className:"emailInput",placeholder:"Email",id:"email",value:a,onChange:function(e){return n(e.target.value)}}),Object(E.jsx)(j.b,{className:"forgotPasswordLink",to:"/sign-in",children:"Sign In"}),Object(E.jsxs)("div",{className:"signInBar",children:[Object(E.jsx)("div",{className:"signInText",children:"Send Reset Link"}),Object(E.jsx)("button",{className:"signInButton",children:Object(E.jsx)(Me,{fill:"#ffffff",width:"34px",height:"34px"})})]})]})})]})},Fe=a(34),Te=a(86);var qe=function(){var e=Object(s.useState)(!1),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",offer:!1,regularPrice:0,discountedPrice:0,images:{},latitude:0,longitude:0}),r=Object(D.a)(c,2),i=r[0],l=r[1],o=i.type,j=i.name,d=i.bedrooms,m=i.bathrooms,O=i.parking,f=i.furnished,p=i.address,h=i.offer,x=i.regularPrice,g=i.discountedPrice,v=i.images,N=i.latitude,y=i.longitude,w=Object(M.c)(),k=Object(u.p)(),I=Object(s.useRef)(!0);Object(s.useEffect)((function(){return I&&Object(M.d)(w,(function(e){e?l(Object(ye.a)(Object(ye.a)({},i),{},{userRef:e.uid})):k("/sign-in")})),function(){I.current=!1}}),[I]);var L=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){var a,c,r,s,l;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n(!0),!(g>=x)){e.next=6;break}return n(!1),b.b.error("Discounted price needs to be less than regular price"),e.abrupt("return");case 6:if(!(v.length>6)){e.next=10;break}return n(!1),b.b.error("Max 6 images"),e.abrupt("return");case 10:return a={lat:N,lng:y},c=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=Object(Fe.b)(),c="".concat(w.currentUser.uid,"-").concat(t.name,"-").concat(Object(Te.a)()),r=Object(Fe.c)(n,"images/"+c),s=Object(Fe.d)(r,t);s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){a(e)}),(function(){Object(Fe.a)(s.snapshot.ref).then((function(t){e(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=14,Promise.all(Object(ce.a)(v).map((function(e){return c(e)}))).catch((function(){n(!1),b.b.error("Images not uploaded")}));case 14:return r=e.sent,(s=Object(ye.a)(Object(ye.a)({},i),{},{imageUrls:r,geolocation:a,timestamp:Object(F.k)()})).location=p,delete s.images,delete s.address,!s.offer&&delete s.discountedPrice,e.next=22,Object(F.a)(Object(F.b)(V,"listings"),s);case 22:l=e.sent,n(!1),b.b.success("Listing saved"),k("/category/".concat(s.type,"/").concat(l.id));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=null;"true"===e.target.value&&(t=!0),"false"===e.target.value&&(t=!1),e.target.files&&l((function(t){return Object(ye.a)(Object(ye.a)({},t),{},{images:e.target.files})})),e.target.files||l((function(a){var n;return Object(ye.a)(Object(ye.a)({},a),{},Object(Ne.a)({},e.target.id,null!==(n=t)&&void 0!==n?n:e.target.value))}))};return a?Object(E.jsx)(U,{}):Object(E.jsxs)("div",{className:"profile",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Create a Listing"})}),Object(E.jsx)("main",{children:Object(E.jsxs)("form",{onSubmit:L,children:[Object(E.jsx)("label",{className:"formLabel",children:"Sell / Rent"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{type:"button",className:"sale"===o?"formButtonActive":"formButton",id:"type",value:"sale",onClick:S,children:"Sell"}),Object(E.jsx)("button",{type:"button",className:"rent"===o?"formButtonActive":"formButton",id:"type",value:"rent",onClick:S,children:"Rent"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Name"}),Object(E.jsx)("input",{className:"formInputName",type:"text",id:"name",value:j,onChange:S,maxLength:"32",minLength:"10",required:!0}),Object(E.jsxs)("div",{className:"formRooms flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bedrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bedrooms",value:d,onChange:S,min:"1",max:"50",required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bathrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bathrooms",value:m,onChange:S,min:"1",max:"50",required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Parking spot"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:O?"formButtonActive":"formButton",type:"button",id:"parking",value:!0,onClick:S,min:"1",max:"50",children:"Yes"}),Object(E.jsx)("button",{className:O||null===O?"formButton":"formButtonActive",type:"button",id:"parking",value:!1,onClick:S,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Furnished"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:f?"formButtonActive":"formButton",type:"button",id:"furnished",value:!0,onClick:S,children:"Yes"}),Object(E.jsx)("button",{className:f||null===f?"formButton":"formButtonActive",type:"button",id:"furnished",value:!1,onClick:S,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Address"}),Object(E.jsx)("textarea",{className:"formInputAddress",type:"text",id:"address",value:p,onChange:S,required:!0}),Object(E.jsxs)("div",{className:"formLatLng flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Latitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"latitude",value:N,onChange:S,required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Longitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"longitude",value:y,onChange:S,required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Offer"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:h?"formButtonActive":"formButton",type:"button",id:"offer",value:!0,onClick:S,children:"Yes"}),Object(E.jsx)("button",{className:h||null===h?"formButton":"formButtonActive",type:"button",id:"offer",value:!1,onClick:S,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Regular Price"}),Object(E.jsxs)("div",{className:"formPriceDiv",children:[Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"regularPrice",value:x,onChange:S,min:"50",max:"750000000",required:!0}),"rent"===o&&Object(E.jsx)("p",{className:"formPriceText",children:"$ / Month"})]}),h&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("label",{className:"formLabel",children:"Discounted Price"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"discountedPrice",value:g,onChange:S,min:"50",max:"750000000",required:h})]}),Object(E.jsx)("label",{className:"formLabel",children:"Images"}),Object(E.jsx)("p",{className:"imagesInfo",children:"The first image will be the cover (max 6)."}),Object(E.jsx)("input",{className:"formInputFile",type:"file",id:"images",onChange:S,max:"6",accept:".jpg,.png,.jpeg",multiple:!0,required:!0}),Object(E.jsx)("button",{type:"submit",className:"primaryButton createListingButton",children:"Create Listing"})]})})]})};var Ye=function(){var e=Object(s.useState)(!1),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),r=Object(D.a)(c,2),i=r[0],l=r[1],o=Object(s.useState)({type:"rent",name:"",bedrooms:1,bathrooms:1,parking:!1,furnished:!1,address:"",offer:!1,regularPrice:0,discountedPrice:0,images:{},latitude:0,longitude:0}),j=Object(D.a)(o,2),d=j[0],m=j[1],O=d.type,f=d.name,p=d.bedrooms,h=d.bathrooms,x=d.parking,g=d.furnished,v=d.address,N=d.offer,y=d.regularPrice,w=d.discountedPrice,k=d.images,I=d.latitude,L=d.longitude,S=Object(M.c)(),C=Object(u.p)(),B=Object(u.r)(),P=Object(s.useRef)(!0);Object(s.useEffect)((function(){i&&i.userRef!==S.currentUser.uid&&(b.b.error("You can not edit that listing"),C("/"))})),Object(s.useEffect)((function(){n(!0);var e=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(F.d)(V,"listings",B.listingId),e.next=3,Object(F.e)(t);case 3:(a=e.sent).exists()?(l(a.data()),m(Object(ye.a)(Object(ye.a)({},a.data()),{},{address:a.data().location})),n(!1)):(C("/"),b.b.error("Listing does not exist"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[B.listingId,C]),Object(s.useEffect)((function(){return P&&Object(M.d)(S,(function(e){e?m(Object(ye.a)(Object(ye.a)({},d),{},{userRef:e.uid})):C("/sign-in")})),function(){P.current=!1}}),[P]);var A=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){var a,c,r,s,i;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n(!0),!(w>=y)){e.next=6;break}return n(!1),b.b.error("Discounted price needs to be less than regular price"),e.abrupt("return");case 6:if(!(k.length>6)){e.next=10;break}return n(!1),b.b.error("Max 6 images"),e.abrupt("return");case 10:return a={lat:I,lng:L},c=function(){var e=Object(H.a)(Object(R.a)().mark((function e(t){return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var n=Object(Fe.b)(),c="".concat(S.currentUser.uid,"-").concat(t.name,"-").concat(Object(Te.a)()),r=Object(Fe.c)(n,"images/"+c),s=Object(Fe.d)(r,t);s.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running")}}),(function(e){a(e)}),(function(){Object(Fe.a)(s.snapshot.ref).then((function(t){e(t)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=14,Promise.all(Object(ce.a)(k).map((function(e){return c(e)}))).catch((function(){n(!1),b.b.error("Images not uploaded")}));case 14:return r=e.sent,(s=Object(ye.a)(Object(ye.a)({},d),{},{imageUrls:r,geolocation:a,timestamp:Object(F.k)()})).location=v,delete s.images,delete s.address,!s.offer&&delete s.discountedPrice,i=Object(F.d)(V,"listings",B.listingId),e.next=23,Object(F.n)(i,s);case 23:n(!1),b.b.success("Listing saved"),C("/category/".concat(s.type,"/").concat(i.id));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=null;"true"===e.target.value&&(t=!0),"false"===e.target.value&&(t=!1),e.target.files&&m((function(t){return Object(ye.a)(Object(ye.a)({},t),{},{images:e.target.files})})),e.target.files||m((function(a){var n;return Object(ye.a)(Object(ye.a)({},a),{},Object(Ne.a)({},e.target.id,null!==(n=t)&&void 0!==n?n:e.target.value))}))};return a?Object(E.jsx)(U,{}):Object(E.jsxs)("div",{className:"profile",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Edit Listing"})}),Object(E.jsx)("main",{children:Object(E.jsxs)("form",{onSubmit:A,children:[Object(E.jsx)("label",{className:"formLabel",children:"Sell / Rent"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{type:"button",className:"sale"===O?"formButtonActive":"formButton",id:"type",value:"sale",onClick:z,children:"Sell"}),Object(E.jsx)("button",{type:"button",className:"rent"===O?"formButtonActive":"formButton",id:"type",value:"rent",onClick:z,children:"Rent"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Name"}),Object(E.jsx)("input",{className:"formInputName",type:"text",id:"name",value:f,onChange:z,maxLength:"32",minLength:"10",required:!0}),Object(E.jsxs)("div",{className:"formRooms flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bedrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bedrooms",value:p,onChange:z,min:"1",max:"50",required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Bathrooms"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"bathrooms",value:h,onChange:z,min:"1",max:"50",required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Parking spot"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:x?"formButtonActive":"formButton",type:"button",id:"parking",value:!0,onClick:z,min:"1",max:"50",children:"Yes"}),Object(E.jsx)("button",{className:x||null===x?"formButton":"formButtonActive",type:"button",id:"parking",value:!1,onClick:z,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Furnished"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:g?"formButtonActive":"formButton",type:"button",id:"furnished",value:!0,onClick:z,children:"Yes"}),Object(E.jsx)("button",{className:g||null===g?"formButton":"formButtonActive",type:"button",id:"furnished",value:!1,onClick:z,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Address"}),Object(E.jsx)("textarea",{className:"formInputAddress",type:"text",id:"address",value:v,onChange:z,required:!0}),Object(E.jsxs)("div",{className:"formLatLng flex",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Latitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"latitude",value:I,onChange:z,required:!0})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{className:"formLabel",children:"Longitude"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"longitude",value:L,onChange:z,required:!0})]})]}),Object(E.jsx)("label",{className:"formLabel",children:"Offer"}),Object(E.jsxs)("div",{className:"formButtons",children:[Object(E.jsx)("button",{className:N?"formButtonActive":"formButton",type:"button",id:"offer",value:!0,onClick:z,children:"Yes"}),Object(E.jsx)("button",{className:N||null===N?"formButton":"formButtonActive",type:"button",id:"offer",value:!1,onClick:z,children:"No"})]}),Object(E.jsx)("label",{className:"formLabel",children:"Regular Price"}),Object(E.jsxs)("div",{className:"formPriceDiv",children:[Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"regularPrice",value:y,onChange:z,min:"50",max:"750000000",required:!0}),"rent"===O&&Object(E.jsx)("p",{className:"formPriceText",children:"$ / Month"})]}),N&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("label",{className:"formLabel",children:"Discounted Price"}),Object(E.jsx)("input",{className:"formInputSmall",type:"number",id:"discountedPrice",value:w,onChange:z,min:"50",max:"750000000",required:N})]}),Object(E.jsx)("label",{className:"formLabel",children:"Images"}),Object(E.jsx)("p",{className:"imagesInfo",children:"The first image will be the cover (max 6)."}),Object(E.jsx)("input",{className:"formInputFile",type:"file",id:"images",onChange:z,max:"6",accept:".jpg,.png,.jpeg",multiple:!0,required:!0}),Object(E.jsx)("button",{type:"submit",className:"primaryButton createListingButton",children:"Edit Listing"})]})})]})},Ve=a(58),$e=a(81),We=a(87),Ge=a(82),Je=a(83),Ke=a.p+"static/media/shareIcon.cbe96fad.svg";$.a.use([W.a,G.a,J.a,K.a]);var _e=function(){var e,t=Object(s.useState)(null),a=Object(D.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(!0),i=Object(D.a)(r,2),l=i[0],o=i[1],b=Object(s.useState)(!1),d=Object(D.a)(b,2),m=d[0],O=d[1],f=Object(u.p)(),p=Object(u.r)(),h=Object(M.c)();return Object(s.useEffect)((function(){var e=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(F.d)(V,"listings",p.listingId),e.next=3,Object(F.e)(t);case 3:(a=e.sent).exists()&&(c(a.data()),o(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[f,p.listingId]),l?Object(E.jsx)(U,{}):Object(E.jsxs)("main",{children:[Object(E.jsx)(Ve.a,{children:Object(E.jsx)("title",{children:n.name})}),Object(E.jsx)(_.a,{slidesPerView:1,pagination:{clickable:!0},children:n.imageUrls.map((function(e,t){return Object(E.jsx)(Q.a,{children:Object(E.jsx)("div",{style:{background:"url(".concat(n.imageUrls[t],") center no-repeat"),backgroundSize:"cover"},className:"swiperSlideDiv"})},t)}))}),Object(E.jsx)("div",{className:"shareIconDiv",onClick:function(){navigator.clipboard.writeText(window.location.href),O(!0),setTimeout((function(){O(!1)}),2e3)},children:Object(E.jsx)("img",{src:Ke,alt:""})}),m&&Object(E.jsx)("p",{className:"linkCopied",children:"Link Copied!"}),Object(E.jsxs)("div",{className:"listingDetails",children:[Object(E.jsxs)("p",{className:"listingName",children:[n.name," - $",n.offer?n.discountedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):n.regularPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]}),Object(E.jsx)("p",{className:"listingLocation",children:n.location}),Object(E.jsxs)("p",{className:"listingType",children:["For ","rent"===n.type?"Rent":"Sale"]}),n.offer&&Object(E.jsxs)("p",{className:"discountPrice",children:["$",n.regularPrice-n.discountedPrice," discount"]}),Object(E.jsxs)("ul",{className:"listingDetailsList",children:[Object(E.jsx)("li",{children:n.bedrooms>1?"".concat(n.bedrooms," Bedrooms"):"1 Bedroom"}),Object(E.jsx)("li",{children:n.bathrooms>1?"".concat(n.bathrooms," Bathrooms"):"1 Bathroom"}),Object(E.jsx)("li",{children:n.parking&&"Parking Spot"}),Object(E.jsx)("li",{children:n.furnished&&"Furnished"})]}),Object(E.jsx)("p",{className:"listingLocationTitle",children:"Location"}),Object(E.jsx)("div",{className:"leafletContainer",children:Object(E.jsxs)($e.a,{style:{height:"100%",width:"100%"},center:[n.geolocation.lat,n.geolocation.lng],zoom:13,scrollWheelZoom:!1,children:[Object(E.jsx)(We.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png"}),Object(E.jsx)(Ge.a,{position:[n.geolocation.lat,n.geolocation.lng],children:Object(E.jsx)(Je.a,{children:n.location})})]})}),(null===(e=h.currentUser)||void 0===e?void 0:e.uid)!==n.userRef&&Object(E.jsx)(j.b,{to:"/contact/".concat(n.userRef,"?listingName=").concat(n.name),className:"primaryButton",children:"Contact Landlord"})]})]})};var Qe=function(){var e=Object(s.useState)(""),t=Object(D.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(null),r=Object(D.a)(c,2),i=r[0],l=r[1],o=Object(j.c)(),d=Object(D.a)(o,2),m=d[0],O=(d[1],Object(u.r)());return Object(s.useEffect)((function(){var e=function(){var e=Object(H.a)(Object(R.a)().mark((function e(){var t,a;return Object(R.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(F.d)(V,"users",O.landlordId),e.next=3,Object(F.e)(t);case 3:(a=e.sent).exists()?l(a.data()):b.b.error("Could not get landlord data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O.landlordId]),Object(E.jsxs)("div",{className:"pageContainer",children:[Object(E.jsx)("header",{children:Object(E.jsx)("p",{className:"pageHeader",children:"Contact Landlord"})}),null!==i&&Object(E.jsxs)("main",{children:[Object(E.jsx)("div",{className:"contactLandlord",children:Object(E.jsxs)("p",{className:"landlordName",children:["Contact ",null===i||void 0===i?void 0:i.name]})}),Object(E.jsxs)("form",{className:"messageForm",children:[Object(E.jsxs)("div",{className:"messageDiv",children:[Object(E.jsx)("label",{htmlFor:"message",className:"messageLabel",children:"Message"}),Object(E.jsx)("textarea",{name:"message",id:"message",className:"textarea",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(E.jsx)("a",{href:"mailto:".concat(i.email,"?Subject=").concat(m.get("listingName"),"&body=").concat(a),children:Object(E.jsx)("button",{type:"button",className:"primaryButton",children:"Send Message"})})]})]})]})};var Ze=function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(j.a,{children:[Object(E.jsxs)(u.e,{children:[Object(E.jsx)(u.c,{path:"/",element:Object(E.jsx)(ne,{})}),Object(E.jsx)(u.c,{path:"/offers",element:Object(E.jsx)(ge,{})}),Object(E.jsx)(u.c,{path:"/category/:categoryName",element:Object(E.jsx)(ve,{})}),Object(E.jsx)(u.c,{path:"/profile",element:Object(E.jsx)(z,{}),children:Object(E.jsx)(u.c,{path:"/profile",element:Object(E.jsx)(Ie,{})})}),Object(E.jsx)(u.c,{path:"/sign-in",element:Object(E.jsx)(ze,{})}),Object(E.jsx)(u.c,{path:"/sign-up",element:Object(E.jsx)(Re,{})}),Object(E.jsx)(u.c,{path:"/forgot-password",element:Object(E.jsx)(He,{})}),Object(E.jsx)(u.c,{path:"/create-listing",element:Object(E.jsx)(qe,{})}),Object(E.jsx)(u.c,{path:"/edit-listing/:listingId",element:Object(E.jsx)(Ye,{})}),Object(E.jsx)(u.c,{path:"/category/:categoryName/:listingId",element:Object(E.jsx)(_e,{})}),Object(E.jsx)(u.c,{path:"/contact/:landlordId",element:Object(E.jsx)(Qe,{})})]}),Object(E.jsx)(A,{})]}),Object(E.jsx)(b.a,{})]})};o.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(Ze,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.14de3125.chunk.js.map